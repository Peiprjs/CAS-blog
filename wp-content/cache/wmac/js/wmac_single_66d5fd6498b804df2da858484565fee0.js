(function(){'use strict';if(!Element.prototype.matches){Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;}
if(!Element.prototype.closest){Element.prototype.closest=function(s){var el=this;if(!document.documentElement.contains(el)){return null;}
do{if(el.matches(s)){return el;}
el=el.parentElement||el.parentNode;}while(el!==null&&el.nodeType===1);return null;};}
window.nanospaceHelper={getOffset:function($el){if($el instanceof HTMLElement){var rect=$el.getBoundingClientRect();return{top:rect.top+window.pageYOffset,left:rect.left+window.pageXOffset,}}
return{top:null,left:null,};},isVisible:function($el){return $el.offsetWidth>0&&$el.offsetHeight>0;},};window.nanospace={isRTL:function(){return document.body.classList.contains('rtl');},initKeyboardAndMouseFocus:function(){document.body.addEventListener('keydown',function(e){document.body.classList.add('using-keyboard');});document.body.addEventListener('mousedown',function(e){document.body.classList.remove('using-keyboard');});},initGlobalPopup:function(){var $clickedToggle=null;var deactivatePopup=function(device){var $activePopups=document.querySelectorAll('.nanospace-popup-active'+(undefined!==device?'.nanospace-hide-on-'+device:''));for(var j=0;j<$activePopups.length;j++){$clickedToggle.classList.remove('nanospace-popup-toggle-active');$activePopups[j].classList.remove('nanospace-popup-active');document.body.classList.remove('nanospace-has-popup-active');$activePopups[j].removeAttribute('tabindex');$clickedToggle.focus();}};var $toggles=document.querySelectorAll('.nanospace-popup-toggle');for(var i=0;i<$toggles.length;i++){$toggles[i].addEventListener('click',function(e){e.preventDefault();var $target=document.querySelector('#'+this.getAttribute('data-target'));if(!$target)return;if($target.classList.contains('nanospace-popup-active')){deactivatePopup();}else{this.classList.add('nanospace-popup-toggle-active');$target.classList.add('nanospace-popup-active');document.body.classList.add('nanospace-has-popup-active');setTimeout(function(){$target.setAttribute('tabindex',0);document.getElementById("btn_close").focus();},300);$clickedToggle=this;}},false);}
var $closes=document.querySelectorAll('.nanospace-popup-close');for(var i=0;i<$closes.length;i++){$closes[i].addEventListener('click',function(e){e.preventDefault();deactivatePopup();},false);}
document.body.addEventListener('keydown',function(e){var key=e.which||e.keyCode;if(document.body.classList.contains('nanospace-has-popup-active')&&27===key){deactivatePopup();}});window.addEventListener('resize',function(e){if(document.body.classList.contains('nanospace-has-popup-active')){var device='mobile';if(500<=window.innerWidth){device='tablet';}
if(1024<=window.innerWidth){device='desktop';}
deactivatePopup(device);}});var $menuLinks=document.querySelectorAll('.nanospace-popup a');for(var i=0;i<$menuLinks.length;i++){$menuLinks[i].addEventListener('click',function(e){if(''!==this.hash){var pageURL=(window.location.hostname+'/'+window.location.pathname).replace('/\/$/',''),linkURL=(this.hostname+'/'+this.pathname).replace('/\/$/','');if(pageURL===linkURL){if(document.body.classList.contains('nanospace-has-popup-active')){deactivatePopup();}}}});}},initAll:function(){window.nanospace.initKeyboardAndMouseFocus();window.nanospace.initGlobalPopup();},};document.addEventListener('DOMContentLoaded',window.nanospace.initAll);})();